!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t||self).graphDataStructure={})}(this,function(t){function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},e(t,n)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function o(t,n,i){return o=r()?Reflect.construct.bind():function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i},o.apply(null,arguments)}function i(t){var r="function"==typeof Map?new Map:void 0;return i=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,i)}function i(){return o(t,arguments,n(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e(i,t)},i(t)}var u=/*#__PURE__*/function(t){var n,r;function o(n){var e;return e=t.call(this,n)||this,Object.setPrototypeOf(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),o.prototype),e}return r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,e(n,r),o}(/*#__PURE__*/i(Error));function c(t){var n={addNode:o,removeNode:function(t){return Object.keys(e).forEach(function(n){e[n].forEach(function(e){e===t&&p(n,e)})}),delete e[t],n},nodes:i,adjacent:c,addEdge:s,removeEdge:p,hasEdge:l,setEdgeWeight:a,getEdgeWeight:h,indegree:function(t){var n=0;function r(e){e===t&&n++}return Object.keys(e).forEach(function(t){e[t].forEach(r)}),n},outdegree:function(t){return t in e?e[t].length:0},depthFirstSearch:d,hasCycle:function(){try{return d(void 0,!0,!0),!1}catch(t){if(t instanceof u)return!0;throw t}},lowestCommonAncestors:function(t,n){var e=[],r=[];return function t(o,i){return!!o[i]||(o[i]=!0,e.push(i),i==n?(r.push(i),!1):c(i).every(function(n){return t(o,n)}))}({},t)&&function t(n,o){n[o]||(n[o]=!0,e.indexOf(o)>=0?r.push(o):0==r.length&&c(o).forEach(function(e){t(n,e)}))}({},n),r},topologicalSort:function(t,n){return void 0===n&&(n=!0),d(t,n,!0).reverse()},shortestPath:v,shortestPaths:function(t,n){for(var e=v(t,n),r=[e],o=[],i=e.weight;i;){var u=e[0],c=e[1];l(u,c)&&(o.push({u:u,v:c,weight:h(u,c)}),p(u,c)),l(c,u)&&(o.push({u:c,v:u,weight:h(c,u)}),p(c,u));try{if(!(e=v(t,n)).weight||i<e.weight)break;r.push(e)}catch(t){break}}for(var f=0,a=o;f<a.length;f++){var d=a[f];s(d.u,d.v,d.weight)}return r},serialize:function(){var t={nodes:i().map(function(t){return{id:t}}),links:[]};return t.nodes.forEach(function(n){var e=n.id;c(e).forEach(function(n){t.links.push({source:e,target:n,weight:h(e,n)})})}),t},deserialize:y},e={},r={};function o(t){return e[t]=c(t),n}function i(){var t={};return Object.keys(e).forEach(function(n){t[n]=!0,e[n].forEach(function(n){t[n]=!0})}),Object.keys(t)}function c(t){return e[t]||[]}function f(t,n){return t+"|"+n}function a(t,e,o){return r[f(t,e)]=o,n}function h(t,n){var e=r[f(t,n)];return void 0===e?1:e}function s(t,e,r){return o(t),o(e),c(t).push(e),void 0!==r&&a(t,e,r),n}function p(t,r){return e[t]&&(e[t]=c(t).filter(function(t){return t!==r})),n}function l(t,n){return c(t).includes(n)}function d(t,n,e){void 0===n&&(n=!0),void 0===e&&(e=!1),t||(t=i()),"boolean"!=typeof n&&(n=!0);var r={},o={},f=[];function a(t){if(o[t]&&e)throw new u("Cycle found");r[t]||(r[t]=!0,o[t]=!0,c(t).forEach(a),o[t]=!1,f.push(t))}return n?t.forEach(a):(t.forEach(function(t){r[t]=!0}),t.forEach(function(t){c(t).forEach(a)})),f}function v(t,n){var e={},r={},o={};return function(){!function(){if(i().forEach(function(t){e[t]=Infinity}),Infinity!==e[t])throw new Error("Source node is not in the graph");if(Infinity!==e[n])throw new Error("Destination node is not in the graph");e[t]=0}(),i().forEach(function(t){o[t]=!0});for(var u=function(){var t,n,i=(n=Infinity,Object.keys(o).forEach(function(r){e[r]<n&&(n=e[r],t=r)}),void 0===t?(o={},null):(delete o[t],t));if(null===i)return{v:void 0};c(i).forEach(function(t){!function(t,n){var o=h(t,n);e[n]>e[t]+o&&(e[n]=e[t]+o,r[n]=t)}(i,t)})};0!==Object.keys(o).length;){var f=u();if("object"==typeof f)return f.v}}(),function(){for(var e=[],o=0,i=n;r[i];)e.push(i),o+=h(r[i],i),i=r[i];if(i!==t)throw new Error("No path found");return e.push(i),e.reverse(),e.weight=o,e}()}function y(t){return t.nodes.forEach(function(t){o(t.id)}),t.links.forEach(function(t){s(t.source,t.target,t.weight)}),n}return t&&y(t),n}t.CycleError=u,t.Graph=c,t.default=c});
//# sourceMappingURL=index.umd.js.map
